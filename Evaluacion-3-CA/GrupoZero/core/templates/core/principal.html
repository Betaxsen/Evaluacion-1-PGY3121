<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grupo Cero</title>
    
    {% load static %}
    <link rel="stylesheet" href="{% static 'core/css/stilos.css' %}">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script> 
    
       $(document).ready(function(){
      
          var urlbase = "https://api.artic.edu/api/v1/artworks?ids=27992,28560&fields=id,title,image_id";
          var urlbase1 ="https://api.artic.edu/api/v1/artworks"
          
    
          $.get(urlbase1,function(data1){
                $("#traeobras").empty();
    
              $.each(data1.data, function(i,info){
    
                  //busca imagen
                  var urlsim = data1.config.iiif_url;
                  var urlimg = `${urlsim}/${info.image_id}/full/843,/0/default.jpg`;
    
        //trae info general como carta
        var pintura = `<div class="card m-3" style="width: 18rem;">
                                      <img src="${urlimg}" class="card-img-top" alt="500px">
                                      <div class="card-body">
                                          <h2 class="card-text"> ${info.id} </h2>
                                          <h5 class="card-title">${info.title}</h5>
                                          <p class="card-text">${info.artist_display}</p>
                                          <a href="elemento" class="btn btn-dark">Ver</a>
                                           
                                      </div>
                                  </div>`
                                  $("#traeobras").append(pintura);
    
                
      //----------------trae info busqueda
      $("#buscar").click(function(){
        $("#traeobras").empty();
        
                          var tipo = document.elegir.tipobusqueda.value;
                          var data = [];
        $("#dataForm").submit(function(event) {
            event.preventDefault();
            data.push($(this).find('input[name="data"]').val());
            
            
      if(tipo =="1"){
          var tipo1 = info.artist_display.split(' ')[0].toUpperCase(); //toma dos primeras palabras en este caso el nombre
      }if(tipo =="2"){
          var tipo1 =info.title.toUpperCase()
      }if(tipo =="3"){
          var tipo1 =info.id;
      }
        //trae info como carta
    
        var dataf =`${data}`.toUpperCase();
        console.log(`${dataf}`);
        if (tipo1 == dataf){
          
                      var pintura = `<div class="card m-3" style="width: 18rem;">
                                      <img src="${urlimg}" class="card-img-top" alt="500px">
                                      <div class="card-body">
                                          <h2 class="card-text"> ${info.id} </h2>
                                          <h5 class="card-title">${info.title}</h5>
                                          <p class="card-text">${info.artist_display}</p>
                                          <a href="../Objetos/ejemplo1.html" class="btn btn-dark">Ver</a>
                                           
                                      </div>
                                  </div>`
                                  $("#traeobras").append(pintura);
                                }
                              })
                            });
    
    
                            
          })
        })
        })
    
    
    
    
     </script>
    



 
  
  </head>
<body> 
  
  <div class="row">
    <div class="col-1"> </div>
    <div class="col-11"> 
  
      <div class="botones" >
          <a href="./Otros/Iniciar sesion.html" type="button" class="btn btn-dark">Iniciar Sesion</button></a>
          <a href="./Otros/Registrarse.html"><button type="button" class="btn btn-dark">Registrarse</button></a>
      </div>
    </div>
  </div>
  
<!-- pseudo navbar desde acá -->

  <div class="row">
       <div class="col-1"> 
         <img src="https://imageshack.com/i/pnOOAYoyp"  alt="" width="60px" height="60px" > 
       </div> 
       <div class="col-3">  <h1>Grupo Cero</h1> </div>
       <div class="col-3"> </div>
       <div class="col-2"> <p id="demo"></p> </div>
       <div class="col-1"> <div id="icon"><img id="wicon" src="" alt="Weather icon"></div> </div>
  </div>
  
    
  <div class="row"> </div>
    
  <div class="row">
    
     <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
     
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">


              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="principal">Home</a>
              </li>
         


              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Articulos
                </a>
                 <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="./articulos/todos.html">Todos</a></li>
                  <li><a class="dropdown-item" href="./articulos/Cuadros.html">Cuadros</a></li>
                  <li><a class="dropdown-item" href="./articulos/Ceramicas.html">Ceramicas</a></li>
                  <!--<li><hr class="dropdown-divider"></li>-->
                  <li><a class="dropdown-item" href="./articulos/Accesorios.html">Accesorios</a></li>
                </ul>
              </li>




              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Artistas
                </a>
                 <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="./artistas/Todos.html">Todos</a></li>
                  <li><a class="dropdown-item" href="./artistas/Pedro.html">Pedro</a></li>
                  <li><a class="dropdown-item" href="./artistas/juan.html">Juan</a></li>
                
                  <li><a class="dropdown-item" href="./artistas/Diego.html">Diego</a></li>
                </ul>





             
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="./otros/Nosotros.html">Nosotros</a>
              </li>

              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="./otros/Contacto.html">Contacto</a>
              </li>

            </ul>
           

             
            </form>
          </div>
        </div>
      </nav>
     </div>

  </div>

<!-- Hasta acá -->


  <div class="row">
    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <a href="./Objetos/ejemplo1.html"><img src="https://picsum.photos/400/400" class="d-block w-100" alt="..."  height="400px"></a>
          </div>
          <div class="carousel-item">
            <a href="./Objetos/ejemplo1.html"><img src="https://picsum.photos/401/400" class="d-block w-100" alt="..."  height="400px"></a>
          </div>
          <div class="carousel-item">
            <a href="./Objetos/ejemplo1.html"><img src="https://picsum.photos/400/401" class="d-block w-100" alt="..."  height="400px"></a>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

  </div>


  <div class="row">

      <div class ="col-1"></div>

      <div class ="col-10">
        <div class="buscar">

            <form name="elegir" >
              <h2>Busqueda</h2>
      
              <input type="Radio" name="tipobusqueda" value="1"> Artista <br>
              <input type="Radio" name="tipobusqueda" value="2"> Obra <br>
              <input type="Radio" name="tipobusqueda" value="3"> Id
            </form>
      
            <form  id="dataForm"  >
              <input id="data" name="data" class="form-control" type="text" value=""> <br>
              <input id ="buscar"class="btn btn-dark" value="Buscar" type="submit"> 
            </form>

        </div>

      </div>
  </div>


  <div class ="row" id="traeobras"> </div>


  <script> 
    
        var x = document.getElementById("demo");
        var y = document.getElementById("icon");
        
        $(document).ready(function(){
       
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);

            } else { 
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        })

        function showPosition(position) {
  
        var url = 'http://api.openweathermap.org/data/2.5/weather?lat='+position.coords.latitude+'&lon='+position.coords.longitude+'&units=metric&lang=es&appid=2e467162672d1fb05844849d554cd479';
    
        $.get( url ,function(data) {
        
            console.log(data.name);
            console.log(data.main.temp);
            console.log(data.weather[0].description);
            console.log(data.weather[0].icon);
         
            x.innerHTML = "Temperatura: " + data.main.temp + "°C" +
                      "<br>Clima      : " + data.weather[0].description;
            
            var iconcode = data.weather[0].icon;
            var iconurl = "http://openweathermap.org/img/w/" + iconcode + ".png";

            //y.src=iconurl;
            $('#wicon').attr('src', iconurl);

        })
        }    
  </script> 

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

</body>


</html>